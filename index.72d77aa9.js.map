{"mappings":"C,A,WCMA,IAAM,EAAO,CACT,OAAQ,SAAS,aAAA,CAAc,gBAC/B,YAAa,SAAS,aAAA,CAAc,cACpC,UAAW,SAAS,aAAA,CAAc,WACtC,EAEM,EAAmB,ICZV,MACX,aAAc,CACV,IAAI,CAAC,WAAA,CAAc,GACnB,IAAI,CAAC,IAAA,CAAO,CAChB,CAEA,aAAc,CAOV,IAAM,EAAM,CAAC,kEAAkE,EAAE,IAAI,CAAC,WAAA,CAAY,0EAA0E,EAAE,IAAI,CAAC,IAAA,CAAK,CAAC,CAEzL,OAAO,MAAM,GAAK,IAAA,CAAK,AAAA,GAAO,EAAI,IAAA,IAAQ,IAAA,CAAK,AAAA,IAC3C,IAAI,CAAC,aAAL,GAEO,EAAK,IAAZ,EAER,CAEA,eAAgB,CACZ,IAAI,CAAC,IAAA,EAAQ,CACrB,CAEI,WAAY,CACR,IAAI,CAAC,IAAA,CAAO,CACpB,CAEI,IAAI,OAAQ,CACR,OAAO,IAAI,CAAC,WAAZ,AACJ,CAEA,IAAI,MAAM,CAAQ,CAAE,CAClB,IAAI,CAAC,WAAA,CAAc,CACrB,CACJ,EDCA,SAAS,EAAa,CAAI,EACzB,IAAM,EAAkB,EAAK,GAAA,CAAI,CAAC,CAAA,aAAE,CAAY,CAAA,cAAE,CAAa,CAAA,KAAE,CAAI,CAAA,MAAE,CAAK,CAAA,MAAE,CAAK,CAAA,SAAE,CAAQ,CAAA,UAAE,CAAS,CAAE,GAC7F,CAAC;;;;eAIA,EAAE,EAAa;uBACP,EAAE,EAAc;eACxB,EAAE,EAAK;;;;sCAIgB,EAAE,EAAM;sCACR,EAAE,EAAM;4CACF,EAAE,EAAS;8CACT,EAAE,EAAU;;;WAG/C,CAAC,EACR,IAAA,CAAK,IAEN,OAAO,EAAK,SAAA,CAAU,kBAAA,CAAmB,YAAa,EACzD,CAEA,SAAS,IACL,EAAK,SAAA,CAAU,SAAA,CAAY,EAC/B,CAlDA,EAAK,WAAA,CAAY,KAAA,CAAM,OAAA,CAAU,OAEjC,EAAK,MAAA,CAAO,gBAAA,CAAiB,SAG7B,SAAkB,CAAG,EACjB,EAAI,cAAJ,GAEA,EAAK,WAAA,CAAY,KAAA,CAAM,OAAA,CAAU,QAEjC,IACA,EAAiB,KAAA,CAAQ,EAAI,MAAA,CAAO,QAAA,CAAS,WAAA,CAAY,KAAzD,CACA,EAAiB,SAAjB,GACA,EAAiB,WAAA,GAAc,IAAA,CAAK,AAAA,IAChC,IACA,EAAa,EACjB,EACJ,GAdA,EAAK,WAAA,CAAY,gBAAA,CAAiB,QAgBlC,WACK,EAAiB,WAAA,GAAc,IAAA,CAAK,EACzC,E","sources":["<anon>","src/index.js","src/js/pixabay-api.js"],"sourcesContent":["(function () {\n// import axios from 'axios';\n// axios.defaults.headers.common[\"x-api-key\"] = \"38212223-f32e704a5bd5b7c02deacefa3\";\nclass $6547cce5cd15c4b4$export$2e2bcd8739ae039 {\n    constructor(){\n        this.searchQuery = \"\";\n        this.page = 1;\n    }\n    fetchImages() {\n        // const options = {\n        //     headers: {\n        //         Authorization: '38212223-f32e704a5bd5b7c02deacefa3'\n        //     }\n        // };\n        const url = `https://pixabay.com/api/?key=38212223-f32e704a5bd5b7c02deacefa3&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${this.page}`;\n        return fetch(url).then((res)=>res.json()).then((data)=>{\n            this.incrementPage();\n            return data.hits;\n        });\n    }\n    incrementPage() {\n        this.page += 1;\n    }\n    resetPage() {\n        this.page = 1;\n    }\n    get query() {\n        return this.searchQuery;\n    }\n    set query(newQuery) {\n        this.searchQuery = newQuery;\n    }\n}\n\n\nconst $b8f9b7833fa37166$var$API_KEY = \"38212223-f32e704a5bd5b7c02deacefa3\";\nconst $b8f9b7833fa37166$var$refs = {\n    formEl: document.querySelector(\".search-form\"),\n    loadMoreBtn: document.querySelector(\".load-more\"),\n    galleryEl: document.querySelector(\".gallery\")\n};\nconst $b8f9b7833fa37166$var$imagesApiService = new (0, $6547cce5cd15c4b4$export$2e2bcd8739ae039)();\n$b8f9b7833fa37166$var$refs.loadMoreBtn.style.display = \"none\";\n$b8f9b7833fa37166$var$refs.formEl.addEventListener(\"submit\", $b8f9b7833fa37166$var$onSearch);\n$b8f9b7833fa37166$var$refs.loadMoreBtn.addEventListener(\"click\", $b8f9b7833fa37166$var$onLoadMore);\nfunction $b8f9b7833fa37166$var$onSearch(evt) {\n    evt.preventDefault();\n    $b8f9b7833fa37166$var$refs.loadMoreBtn.style.display = \"block\";\n    $b8f9b7833fa37166$var$clearImageList();\n    $b8f9b7833fa37166$var$imagesApiService.query = evt.target.elements.searchQuery.value;\n    $b8f9b7833fa37166$var$imagesApiService.resetPage();\n    $b8f9b7833fa37166$var$imagesApiService.fetchImages().then((hits)=>{\n        $b8f9b7833fa37166$var$clearImageList();\n        $b8f9b7833fa37166$var$addImageCard(hits);\n    });\n}\nfunction $b8f9b7833fa37166$var$onLoadMore() {\n    $b8f9b7833fa37166$var$imagesApiService.fetchImages().then($b8f9b7833fa37166$var$addImageCard);\n}\nfunction $b8f9b7833fa37166$var$addImageCard(hits) {\n    const galleryElements = hits.map(({ webformatURL: webformatURL, largeImageURL: largeImageURL, tags: tags, likes: likes, views: views, comments: comments, downloads: downloads })=>{\n        return `<li class=\"gallery-item\">\n     <div class=\"gallery-item-wrap\">\n        <img\n          class=\"image\"\n          src=\"${webformatURL}\"\n          data-source=\"${largeImageURL}\"\n          alt=\"${tags}\"\n         \n        />\n        <div class=\"image-info\">\n        <p class=\"image-likes\">Likes: ${likes}</p>\n        <p class=\"image-views\">Views: ${views}</p>\n        <p class=\"image-comments\">Comments: ${comments}</p>\n        <p class=\"image-downloads\">Downloads: ${downloads}</p>\n        </div>\n        </div>\n      </li>`;\n    }).join(\"\");\n    return $b8f9b7833fa37166$var$refs.galleryEl.insertAdjacentHTML(\"beforeend\", galleryElements);\n}\nfunction $b8f9b7833fa37166$var$clearImageList() {\n    $b8f9b7833fa37166$var$refs.galleryEl.innerHTML = \"\";\n}\n\n})();\n//# sourceMappingURL=index.72d77aa9.js.map\n","// import axios from 'axios';\n// axios.defaults.headers.common[\"x-api-key\"] = \"38212223-f32e704a5bd5b7c02deacefa3\";\nimport ImagesApiService from \"./js/pixabay-api\";\n\nconst API_KEY = '38212223-f32e704a5bd5b7c02deacefa3';\n\nconst refs = {\n    formEl: document.querySelector('.search-form'),\n    loadMoreBtn: document.querySelector('.load-more'),\n    galleryEl: document.querySelector('.gallery')\n};\n\nconst imagesApiService = new ImagesApiService();\n\nrefs.loadMoreBtn.style.display = 'none';\n\nrefs.formEl.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(evt) {\n    evt.preventDefault();\n\n    refs.loadMoreBtn.style.display = 'block';\n\n    clearImageList();\n    imagesApiService.query = evt.target.elements.searchQuery.value;\n    imagesApiService.resetPage();\n    imagesApiService.fetchImages().then(hits => {\n        clearImageList();\n        addImageCard(hits)\n    });\n}\n\nfunction onLoadMore() {\n     imagesApiService.fetchImages().then(addImageCard);\n}\n\n\nfunction addImageCard(hits) {\n const galleryElements = hits.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n     return   `<li class=\"gallery-item\">\n     <div class=\"gallery-item-wrap\">\n        <img\n          class=\"image\"\n          src=\"${webformatURL}\"\n          data-source=\"${largeImageURL}\"\n          alt=\"${tags}\"\n         \n        />\n        <div class=\"image-info\">\n        <p class=\"image-likes\">Likes: ${likes}</p>\n        <p class=\"image-views\">Views: ${views}</p>\n        <p class=\"image-comments\">Comments: ${comments}</p>\n        <p class=\"image-downloads\">Downloads: ${downloads}</p>\n        </div>\n        </div>\n      </li>`\n }).join('');\n    \n   return refs.galleryEl.insertAdjacentHTML('beforeend', galleryElements);\n}\n\nfunction clearImageList() {\n    refs.galleryEl.innerHTML = '';\n}\n\n\n\n\n","export default class ImagesApiService{\n    constructor() {\n        this.searchQuery = '';\n        this.page = 1;\n    }\n\n    fetchImages() {\n        // const options = {\n        //     headers: {\n        //         Authorization: '38212223-f32e704a5bd5b7c02deacefa3'\n        //     }\n        // };\n\n        const url = `https://pixabay.com/api/?key=38212223-f32e704a5bd5b7c02deacefa3&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${this.page}`;\n\n        return fetch(url).then(res => res.json()).then(data => {\n            this.incrementPage();\n         \n            return data.hits;\n        });    \n    };\n\n    incrementPage() {\n        this.page += 1;\n}\n\n    resetPage() {\n        this.page = 1;\n}\n\n    get query() {\n        return this.searchQuery;\n    };\n\n    set query(newQuery) {\n      this.searchQuery = newQuery;\n    };\n}"],"names":["$b8f9b7833fa37166$var$refs","formEl","document","querySelector","loadMoreBtn","galleryEl","$b8f9b7833fa37166$var$imagesApiService","constructor","searchQuery","page","fetchImages","url","fetch","then","res","json","data","incrementPage","hits","resetPage","query","newQuery","$b8f9b7833fa37166$var$addImageCard","galleryElements","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","$b8f9b7833fa37166$var$clearImageList","innerHTML","style","display","addEventListener","evt","preventDefault","target","elements","value"],"version":3,"file":"index.72d77aa9.js.map"}