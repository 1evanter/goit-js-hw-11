{"mappings":"C,A,WCMA,IAAM,EAAS,SAAS,aAAA,CAAc,gBAChC,EAAc,SAAS,aAAA,CAAc,cACrC,EAAmB,ICRV,MACX,aAAc,CACV,IAAI,CAAC,WAAA,CAAc,GACnB,IAAI,CAAC,IAAA,CAAO,CAChB,CAEA,aAAc,CAOV,IAAM,EAAM,CAAC,kEAAkE,EAAE,IAAI,CAAC,WAAA,CAAY,0EAA0E,EAAE,IAAI,CAAC,IAAA,CAAK,CAAC,CAEzL,MAAM,GAAK,IAAA,CAAK,AAAA,GAAO,EAAI,IAAA,IAAQ,IAAA,CAAK,IAAI,CAAC,aAA7C,GACJ,CAEA,eAAgB,CACZ,IAAI,CAAC,IAAA,EAAQ,CACrB,CAEI,WAAY,CACR,IAAI,CAAC,IAAA,CAAO,CACpB,CAEI,IAAI,OAAQ,CACR,OAAO,IAAI,CAAC,WAAZ,AACJ,CAEA,IAAI,MAAM,CAAQ,CAAE,CAClB,IAAI,CAAC,WAAA,CAAc,CACrB,CACJ,EDtBA,EAAO,gBAAA,CAAiB,SAGxB,SAAkB,CAAG,EACjB,EAAI,cAAJ,GAEA,EAAiB,KAAA,CAAQ,EAAI,MAAA,CAAO,QAAA,CAAS,WAAA,CAAY,KAAzD,CACA,EAAiB,SAAjB,GACA,EAAiB,WAAjB,EACJ,GARA,EAAY,gBAAA,CAAiB,QAU7B,WACK,EAAiB,WAAjB,EACL,E","sources":["<anon>","src/index.js","src/js/pixabay-api.js"],"sourcesContent":["(function () {\n// import axios from 'axios';\n// axios.defaults.headers.common[\"x-api-key\"] = \"38212223-f32e704a5bd5b7c02deacefa3\";\nclass $6547cce5cd15c4b4$export$2e2bcd8739ae039 {\n    constructor(){\n        this.searchQuery = \"\";\n        this.page = 1;\n    }\n    fetchImages() {\n        // const options = {\n        //     headers: {\n        //         Authorization: '38212223-f32e704a5bd5b7c02deacefa3'\n        //     }\n        // };\n        const url = `https://pixabay.com/api/?key=38212223-f32e704a5bd5b7c02deacefa3&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${this.page}`;\n        fetch(url).then((res)=>res.json()).then(this.incrementPage());\n    }\n    incrementPage() {\n        this.page += 1;\n    }\n    resetPage() {\n        this.page = 1;\n    }\n    get query() {\n        return this.searchQuery;\n    }\n    set query(newQuery) {\n        this.searchQuery = newQuery;\n    }\n}\n\n\nconst $b8f9b7833fa37166$var$API_KEY = \"38212223-f32e704a5bd5b7c02deacefa3\";\nconst $b8f9b7833fa37166$var$formEl = document.querySelector(\".search-form\");\nconst $b8f9b7833fa37166$var$loadMoreBtn = document.querySelector(\".load-more\");\nconst $b8f9b7833fa37166$var$imagesApiService = new (0, $6547cce5cd15c4b4$export$2e2bcd8739ae039)();\n$b8f9b7833fa37166$var$formEl.addEventListener(\"submit\", $b8f9b7833fa37166$var$onSearch);\n$b8f9b7833fa37166$var$loadMoreBtn.addEventListener(\"click\", $b8f9b7833fa37166$var$onLoadMore);\nfunction $b8f9b7833fa37166$var$onSearch(evt) {\n    evt.preventDefault();\n    $b8f9b7833fa37166$var$imagesApiService.query = evt.target.elements.searchQuery.value;\n    $b8f9b7833fa37166$var$imagesApiService.resetPage();\n    $b8f9b7833fa37166$var$imagesApiService.fetchImages();\n}\nfunction $b8f9b7833fa37166$var$onLoadMore() {\n    $b8f9b7833fa37166$var$imagesApiService.fetchImages();\n}\n\n})();\n//# sourceMappingURL=index.ab710982.js.map\n","// import axios from 'axios';\n// axios.defaults.headers.common[\"x-api-key\"] = \"38212223-f32e704a5bd5b7c02deacefa3\";\nimport ImagesApiService from \"./js/pixabay-api\";\n\nconst API_KEY = '38212223-f32e704a5bd5b7c02deacefa3';\n\nconst formEl = document.querySelector('.search-form');\nconst loadMoreBtn = document.querySelector('.load-more');\nconst imagesApiService = new ImagesApiService();\n\n\nformEl.addEventListener('submit', onSearch);\nloadMoreBtn.addEventListener('click', onLoadMore)\n\nfunction onSearch(evt) {\n    evt.preventDefault();\n\n    imagesApiService.query = evt.target.elements.searchQuery.value;\n    imagesApiService.resetPage();\n    imagesApiService.fetchImages();\n}\n\nfunction onLoadMore() {\n     imagesApiService.fetchImages();\n}\n\n\n\n\n\n","export default class ImagesApiService{\n    constructor() {\n        this.searchQuery = '';\n        this.page = 1;\n    }\n\n    fetchImages() {\n        // const options = {\n        //     headers: {\n        //         Authorization: '38212223-f32e704a5bd5b7c02deacefa3'\n        //     }\n        // };\n\n        const url = `https://pixabay.com/api/?key=38212223-f32e704a5bd5b7c02deacefa3&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${this.page}`;\n\n        fetch(url).then(res => res.json()).then(this.incrementPage()); \n    };\n\n    incrementPage() {\n        this.page += 1;\n}\n\n    resetPage() {\n        this.page = 1;\n}\n\n    get query() {\n        return this.searchQuery;\n    };\n\n    set query(newQuery) {\n      this.searchQuery = newQuery;\n    };\n}"],"names":["$b8f9b7833fa37166$var$formEl","document","querySelector","$b8f9b7833fa37166$var$loadMoreBtn","$b8f9b7833fa37166$var$imagesApiService","constructor","searchQuery","page","fetchImages","url","fetch","then","res","json","incrementPage","resetPage","query","newQuery","addEventListener","evt","preventDefault","target","elements","value"],"version":3,"file":"index.ab710982.js.map"}